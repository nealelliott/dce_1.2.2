# @OSF_COPYRIGHT@
# COPYRIGHT NOTICE
# Copyright (c) 1990, 1991, 1992, 1993, 1994 Open Software Foundation, Inc.
# ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE for
# the full copyright text.
# HISTORY
# $Log: Makefile,v $
# Revision 1.1.689.1  1996/10/02  17:58:52  damon
# 	Newest DFS from Transarc
# 	[1996/10/01  18:44:13  damon]
#
# Revision 1.1.684.2  1994/06/09  14:16:04  annie
# 	fixed copyright in src/file
# 	[1994/06/09  13:28:27  annie]
# 
# Revision 1.1.684.1  1994/02/04  20:25:18  devsrc
# 	Merged from 1.0.3a to 1.1
# 	[1994/02/04  15:15:56  devsrc]
# 
# Revision 1.1.682.1  1993/12/07  17:30:15  jaffe
# 	1.0.3a update from Transarc
# 	[1993/12/03  16:04:31  jaffe]
# 
# Revision 1.1.5.4  1993/01/21  14:51:02  cjd
# 	embedded copyright notice
# 	[1993/01/20  14:53:30  cjd]
# 
# Revision 1.1.5.3  1992/10/02  21:21:59  toml
# 	Added osi_user_newProc.o
# 	[1992/10/02  19:26:33  toml]
# 
# Revision 1.1.5.2  1992/08/31  20:26:37  jaffe
# 	Transarc delta: cburnett-ot4621-add-vfscache-support-for-aix 1.1
# 	  Selected comments:
# 	    Add AFS_VFSCACHE support for the AIX platform
# 	    VFSCACHE AIX support
# 	Transarc delta: jaffe-ot4719-cleanup-gcc-Wall-in-osi 1.3
# 	  Selected comments:
# 	    Fixed many compiler warnings in the osi directory.
# 	    Reworked ALL of the header files.  All files in the osi directory now
# 	    have NO machine specific ifdefs.  All machine specific code is in the
# 	    machine specific subdirectories.  To make this work, additional flags
# 	    were added to the afs/param.h file so that we can tell if a particular
# 	    platform has any additional changes for a given osi header file.
# 	    changed osi_port_aix.h to osi_port_mach.h.
# 	    export osi_intr_mach.h, osi_buf_mach.h, osi_kvnode_mach.h,
# 	    osi_uio_mach.h, osi_cred_mach.h, osi_user_mach.h, osi_device_mach.h,
# 	    osi_calltrace_mach.h, osi_net_mach.h, osi_vmm_mach.h, and
# 	    osi_param_mach.h
# 	    Corrected errors that appeared while trying to build everything on AIX3.2
# 	    cleanup for OSF1 compilation
# 	[1992/08/30  03:19:11  jaffe]
# 
# Revision 1.1.3.6  1992/05/05  03:56:53  mason
# 	delta tu-ot2780-set-systemtime 1.1
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta vijay-butc-compile-error 1.2
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 	delta kazar-ot2290-cm-locks 1.1
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 	delta mason-ot2400-cleanup 1.2
# 
# 	delta cburnett-ot2799-fix_scp_recycle_dcp_cleanup 1.1
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 	delta kazar-ot2290-cm-locks 1.1
# 	delta mason-ot2400-cleanup 1.2
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 
# 	delta kazar-ot2290-cm-locks 1.1
# 
# 	delta cburnett-ot2765-fix_cm_PFlush 1.1
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 	delta kazar-ot2290-cm-locks 1.1
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 
# 	delta cburnett-ot2799-fix_scp_recycle_dcp_cleanup 1.1
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 	delta kazar-ot2290-cm-locks 1.1
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 
# 	delta kazar-ot2290-cm-locks 1.1
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 
# 	delta cburnett-ot2744-rem_cm_AddMariner_from_cm_vnodeops.c 1.1
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 	delta kazar-ot2290-cm-locks 1.1
# 	delta mason-ot2400-cleanup 1.2
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 
# 	delta garyf-ot2400-osf-cm-locking-fixes 1.1
# 
# 	delta cburnett-ot2736-rem_assert_def_from_debug.h 1.1
# 
# 	delta jdp-config-fix-opaque-typedef-2609 1.1
# 	delta jdp-ot2556-osi-put-tracing-back 1.4
# 
# 	delta kazar-ot2290-cm-locks 1.1
# 
# 	delta jdp-ot2611-osi-add-copyrights 1.2
# 
# 	delta jdp-ot2497-osi-cleanup-fio 1.3
# 
# 	delta jdp-ot2611-osi-add-copyrights 1.2
# 	[1992/04/24  22:15:42  mason]
# 
# Revision 1.1.3.5  1992/04/24  20:06:06  mason
# 	Added the line mentioned in the last revision which didn't seem to quite make
# 	it.
# 	[1992/04/24  20:05:07  mason]
# 
# Revision 1.1.3.4  1992/04/21  14:06:15  mason
# 	Transarc delta: tu-1143-error-mapping 1.8
# 	  Files modified:
# 	    cm: cm.h, cm_cell.c, cm_conn.c, cm_daemons.c, cm_dcache.c
# 	    cm: cm_dnamehash.c, cm_init.c, cm_pioctl.c, cm_rrequest.c
# 	    cm: cm_scache.c, cm_server.c, cm_subr.c, cm_tokens.c
# 	    cm: cm_vnodeops.c, cm_volume.c; fsprobe: fsprobe.c
# 	    libafs/RIOS: dfscore.exp; osi: Makefile, osi_dfserrors.h
# 	    osi.klib/OSF1: Makefile; osi.klib/RIOS: Makefile
# 	    osi/OSF1: Makefile, osi_dfs2osferr.c, osi_osf2dfserr.c
# 	    osi/RIOS: Makefile, osi_aix2dfserr.c, osi_dfs2aixerr.c
# 	    px: px_init.c, px_intops.c; rep: rep_main.c
# 	    userInt/fts: volc_tokens.c
# 	  Selected comments:
# 	    An enhancement to allow the DFS server to map returned kernel errors to the
# 	    canonical ones and to allow the CM to map the canonical ones to the
# 	    appropriate local kernel errors.
# 	    Please refer to the design memo, Error Conversion Protocol, for more detail.
# 	    The same as above.
# 	    Made osi_dfserrors.h and osi_dfs2aixerr.c osi_aix2dfserr.c osi_osf2dfserr.c and
# 	    osi_dfs2osferr.c avaliable in the user space. So, whoever references AFS_xxx
# 	    APIs should use the error conversion protocol.
# 	    Made osi_aix2osferr.o and osi_aix2dfserr.o available to RIOS/libosi.a
# 	    fixed some typo errors and others
# 	    Changes did not compile on the PMAX.
# 	    DFS servers now maps errors to the canonical ones before returning to theirs
# 	    clients. Therefore, those clients who use AFS_xxx rpc calls must do the
# 	    error decoding work to get the appropriate error back.
# 	    CFE adds osi_initDecodeTable() and osi_errDecode() to repserver and fts.
# 	[1992/04/20  22:48:08  mason]
# 
# Revision 1.1.3.3  1992/01/24  03:46:58  devsrc
# 	Merging dfs6.3
# 	[1992/01/24  00:16:53  devsrc]
# 
# Revision 1.1.3.2  1992/01/23  20:19:40  zeliff
# 	Moving files onto the branch for dfs6.3 merge
# 	[1992/01/23  18:36:24  zeliff]
# 	Revision 1.1.1.3  1992/01/23  22:19:20  devsrc
# 	Fixed logs
# 
# $EndLog$
#

# Copyright (C) 1993, 1992 Transarc Corporation - All rights reserved

VPATH			= ${TARGET_MACHINE}
INCLUDES		+= osi_port_mach.h sysincludes.h \
	osi_intr_mach.h osi_buf_mach.h osi_kvnode_mach.h osi_uio_mach.h \
	osi_cred_mach.h osi_user_mach.h osi_device_mach.h \
	osi_calltrace_mach.h \
	osi_net_mach.h osi_vmm_mach.h osi_param_mach.h osi_lock_mach.h \
	osi_ufs_mach.h osi_wait.h osi_mount_mach.h

libosi.a_OFILES		+= osi_dfs2aixerr.o osi_aix2dfserr.o \
	osi_user_newProc.o osi_port_aix.o osix_syscall.exp \
	osi_mount_aix.o	osi_net_aix.o

osix_syscall.exp: osi_syscall.exp
	-${CP} ${osi_syscall.exp:P} osix_syscall.exp

