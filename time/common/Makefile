
# @OSF_COPYRIGHT@
# COPYRIGHT NOTICE
# Copyright (c) 1990, 1991, 1992, 1993, 1996 Open Software Foundation, Inc.
# ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE in the
# src directory for the full copyright text.
#
#
# HISTORY
# $Log: Makefile,v $
# Revision 1.1.13.2  1996/03/09  23:31:09  marty
# 	Update OSF copyright year
# 	[1996/03/09  22:46:22  marty]
#
# Revision 1.1.13.1  1995/12/08  18:04:39  root
# 	Submit OSF/DCE 1.2.1
# 
# 	HP revision /main/HPDCE02/4  1994/10/10  14:30 UTC  pare
# 	Merge bl21 changes.
# 	[1995/12/08  17:23:28  root]
# 
# Revision 1.1.10.15  1994/09/28  20:43:20  bowe
# 	Remove dcedtsmsg.[co] - now in libdce. [CR 12366]
# 	[1994/09/28  20:42:38  bowe]
# 
# 	HP revision /main/HPDCE02/3  1994/09/26  12:46 UTC  pare
# 	Merge bl18 changes
# 
# Revision 1.1.10.14  1994/09/07  15:48:50  marty
# 	CR # 11497 - Remove '-v' option from IDLFLAGS defineittion.
# 	[1994/09/06  21:39:43  marty]
# 
# 	HP revision /main/HPDCE02/2  1994/08/18  14:31 UTC  pare
# 	Merge changes from Hpdce02
# 
# Revision 1.1.10.13  1994/07/28  18:14:10  cbrooks
# 	CR10449 - remove install of posixrules and localtime
# 	[1994/07/28  17:36:42  cbrooks]
# 
# Revision 1.1.10.12  1994/07/13  15:15:02  marty
# 	CR # 10017 - Set permissions on header files to 444 during install pass
# 	[1994/07/12  15:53:31  marty]
# 
# 	HP revision /main/HPDCE02/1  1994/06/29  19:19 UTC  pare
# 	Merge hpdce02 (DCE 1.1 beta) and HPDCE01 into HPDCE02
# 
# Revision 1.1.10.11  1994/05/31  21:28:58  cbrooks
# 	CR 10611 - DTS needs new ACL manager
# 	[1994/05/31  21:03:52  cbrooks]
# 
# Revision 1.1.10.10  1994/05/12  15:16:43  rhw
# 	continued code cleanup & merging
# 	[1994/05/09  18:46:14  rhw]
# 
# 	first pass at code cleanup (compiler warnings, function prototypes)
# 	[1994/04/25  14:09:56  rhw]
# 
# Revision 1.1.10.9  1994/04/22  21:11:20  rousseau
# 	Remove extra references to utc.h (CR 10448).
# 	[1994/04/22  21:11:07  rousseau]
# 
# Revision 1.1.10.8  1994/04/21  22:04:50  cbrooks
# 	CR 3231, 8353
# 	[1994/04/21  20:05:01  cbrooks]
# 
# Revision 1.1.10.7  1994/04/07  10:22:32  kevins
# 	CR 10304 Export some header files for cross component dependency issues
# 	[1994/04/07  10:18:18  kevins]
# 
# Revision 1.1.10.6  1994/02/02  20:27:18  rousseau
# 	Export dtss_ctrl.{idl,acf} for CR 9875.
# 	[1994/02/02  20:27:06  rousseau]
# 
# Revision 1.1.10.5  1994/01/28  22:58:58  burati
# 	Merged with changes from 1.1.10.4
# 	[1994/01/28  22:58:45  burati]
# 
# 	DLG/EPAC changes - use rdaclifv0 until new one integrated (dlg_bl1)
# 	[1994/01/25  04:05:37  burati]
# 
# Revision 1.1.10.4  1994/01/26  23:20:12  rhw
# 	Added dcedts.cat to list to be installed (no CR yet).
# 	[1994/01/26  22:44:06  rhw]
# 
# Revision 1.1.10.3  1994/01/24  18:23:51  rsalz
# 	Export dcedtsmsg.h; don't export dcedtsmac.h (OT CR 9798).
# 	[1994/01/24  15:57:33  rsalz]
# 
# Revision 1.1.10.2  1994/01/21  21:36:23  rsalz
# 	Merged with changes from 1.1.10.1
# 	[1994/01/21  21:36:10  rsalz]
# 
# 	OT CR 9747:  Add SVC and AUD to dtsd
# 	[1994/01/21  21:07:21  rsalz]
# 
# Revision 1.1.10.1  1994/01/21  21:08:01  rsalz
# 	OT CR 9747:  Add SVC and AUD to dtsd
# 	[1994/01/21  21:07:21  rsalz]
# 
# Revision 1.1.7.4  1993/12/02  19:53:19  mgm
# 	Add rm -f's.
# 	[1993/12/02  19:52:57  mgm]
# 
# Revision 1.1.7.3  1993/09/23  16:43:59  pare
# 	DCE1_0_3b03 Merge
# 	[1993/09/23  16:41:24  pare]
# 
# Revision 1.1.8.3  1993/09/15  17:45:32  root
# 	    Loading drop DCE1_0_3b03
# 	Revision 1.1.7.2  1993/07/08  19:35:26  root
# 	Initial King Kong branch
# 	[1993/07/08  19:34:56  root]
# 
# Revision 1.1.5.2  1993/04/05  17:35:02  truitt
# 	Recreate GAMERA branch.
# 	[1993/04/05  17:34:13  truitt]
# 
# Revision 1.1.5.2  1993/03/19  14:07:34  truitt
# 	Merge Hp_dce1_0_1 with DCE1_0_2
# 	[1993/03/19  14:05:28  truitt]
# 
# Revision 1.1.1.8  1993/03/11  22:30:09  osfrcs
# 	    Loading drop DCE1_0_2B18
# 
# Revision 1.1.3.3  1993/02/25  16:14:27  truitt
# 	Bug 7326 - Use ${GENCAT} instead of gencat
# 	[1993/02/25  16:13:55  truitt]
# 
# Revision 1.1.7.2  1992/12/30  20:37:34  htf
# 	Embedding copyright notice
# 	[1992/12/30  19:05:53  htf]
# 
# Revision 1.1.3.2  1992/11/12  19:30:19  smythe
# 	DCE 1.0.1 Release
# 	[1992/11/12  19:28:59  smythe]
# 
# Revision 1.1.1.7  1992/09/21  18:53:15  osfrcs
# 	    Loading drop Dce1_0_1fnl
# 
# Revision 1.1.2.3  1992/05/06  21:52:40  comuzzi
# 	Fix defects 2295 and 3143. Add architecture dependent dirs to INCFLAGS
# 	[1992/05/06  21:24:41  comuzzi]
# 
# Revision 1.1.2.2  1992/04/23  14:29:00  comuzzi
# 	<<<Eliminated refereces to obsolete rdacliftmp>>>
# 	[1992/04/21  20:47:27  comuzzi]
# 
# Revision 1.1  1992/01/19  15:32:34  devrcs
# 	Initial revision
# 
# $EndLog$
#

# Build for COMMON 

VPATH = .:${TARGET_MACHINE}:../../security/idl:POSIX

LIBRARIES = libdtss_common.a

# export directories and files
EXPDIR	= /usr/lib/
utc.h_EXPDIR = /usr/include/dce/
utctypes.h_EXPDIR = /usr/include/dce/
utctypes.idl_EXPDIR = /usr/include/dce/
dtss_ctrl.h_EXPDIR = /usr/include/dce/
dcedtsmsg.h_EXPDIR = /usr/include/dce/
dcedtssvc.h_EXPDIR = /usr/include/dce/
dtss_includes.h_EXPDIR = /usr/include/dce/
dtss_config.h_EXPDIR = /usr/include/dce/
dtss_threads.h_EXPDIR = /usr/include/dce/
dtssdef.h_EXPDIR = /usr/include/dce/
dtssmacros.h_EXPDIR = /usr/include/dce/
dtssmsg_ultrix.h_EXPDIR = /usr/include/dce/
dtssdef_ultrix.h_EXPDIR = /usr/include/dce/
utc_arith.h_EXPDIR = /usr/include/dce/
dtss_rpc.h_EXPDIR = /usr/include/dce/
que.h_EXPDIR = /usr/include/dce/
dtss_mgmt_support.h_EXPDIR = /usr/include/dce/
sysdep.h_EXPDIR = /usr/include/dce/
sysdep_ultrix.h_EXPDIR = /usr/include/dce/
commondef.h_EXPDIR = /usr/include/dce/
dtss_ctrl.h_EXPDIR = /usr/include/dce/
dtss_ctrl.idl_EXPDIR = /usr/include/dce/
dtss_ctrl.acf_EXPDIR = /usr/include/dce/
EXPLIB_TARGETS = ${LIBRARIES:S/^/export_/g}

SAMSFILES = dts.sams
SAMIDL_INCLUDES = dcedtsmsg.h
SAMS_TARGETS = dcedtsmsg.h dcedtsmac.h dcedtssvc.c dcedtssvc.h dcedts.cat

# install directories and files
IDIR	= /usr/lib/
IMODE	= 444
ILIST = utc.h utctypes.h utctypes.idl dcedtsmsg.h dcedts.cat \
	${${TARGET_MACHINE}_ILIST}
utc.h_IDIR = /share/include/dce/
utctypes.h_IDIR = /share/include/dce/
utctypes.idl_IDIR = /share/include/dce/
dcedtsmsg.h_IDIR = /share/include/dce/
dcedts.cat_IDIR = /nls/msg/en_US.ASCII/

OTHERS = utctypes.h dtss_ctrl.h

# compiler flags
CFLAGS	= ${${TARGET_MACHINE}_CFLAGS}

#include directories
INCFLAGS = -I. -IPOSIX

INCLUDES = utc.h utctypes.idl dtss_ctrl.idl dtss_ctrl.acf \
	     utctypes.h dtss_ctrl.h dcedtsmsg.h \
	     dtss_includes.h dtss_config.h dtss_threads.h \
	     dtssdef.h dtssmacros.h dtssmsg_ultrix.h dtss_rpc.h \
	     que.h sysdep.h commondef.h dtss_mgmt_support.h \
	     sysdep_ultrix.h dtssdef_ultrix.h utc_arith.h

# IDL-derived stuff
IDLFLAGS = -no_mepv -keep c_source 
IDLINCFLAGS = -I. -I../service
IDLFILES = utctypes.idl dtss_ctrl.idl

dtss_ctrl_ACF = dtss_ctrl.acf

# Build libraries
libdtss_common.a_OFILES = time_support.o dcedtssvc.o \
			  arith.o dtss_error_unix.o threadsafe_ultrix.o \
			  dtss_ctrl_cstub.o dtss_ctrl_sstub.o write_bindings.o

.include <${RULES_MK}>
